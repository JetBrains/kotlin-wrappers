// Generated by Karakum - do not modify it manually!

@file:JsModule("node:vm")

package node.vm

/**
 * This feature is only available with the `--experimental-vm-modules` command
 * flag enabled.
 *
 * The `vm.SourceTextModule` class provides the [Source Text Module Record](https://tc39.es/ecma262/#sec-source-text-module-records) as
 * defined in the ECMAScript specification.
 * @since v9.6.0
 * @experimental
 */
external class SourceTextModule : Module {
    /**
     * Creates a new `SourceTextModule` instance.
     * @param code JavaScript Module code to parse
     */
    constructor (code: String, options: SourceTextModuleOptions = definedExternally)

    /**
     * @deprecated Use `sourceTextModule.moduleRequests` instead.
     */
    val dependencySpecifiers: js.array.ReadonlyArray<String>

    /**
     * The requested import dependencies of this module. The returned array is frozen
     * to disallow any changes to it.
     *
     * For example, given a source text:
     *
     * ```js
     * import foo from 'foo';
     * import fooAlias from 'foo';
     * import bar from './bar.js';
     * import withAttrs from '../with-attrs.ts' with { arbitraryAttr: 'attr-val' };
     * import source Module from 'wasm-mod.wasm';
     * ```
     *
     * The value of the `sourceTextModule.moduleRequests` will be:
     *
     * ```js
     * [
     *   {
     *     specifier: 'foo',
     *     attributes: {},
     *     phase: 'evaluation',
     *   },
     *   {
     *     specifier: 'foo',
     *     attributes: {},
     *     phase: 'evaluation',
     *   },
     *   {
     *     specifier: './bar.js',
     *     attributes: {},
     *     phase: 'evaluation',
     *   },
     *   {
     *     specifier: '../with-attrs.ts',
     *     attributes: { arbitraryAttr: 'attr-val' },
     *     phase: 'evaluation',
     *   },
     *   {
     *     specifier: 'wasm-mod.wasm',
     *     attributes: {},
     *     phase: 'source',
     *   },
     * ];
     * ```
     * @since v24.4.0
     */
    val moduleRequests: js.array.ReadonlyArray<ModuleRequest>
}
